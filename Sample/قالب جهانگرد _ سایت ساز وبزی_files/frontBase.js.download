function getDevice(){var a=$("body");if(!a.hasClass("wz-production"))return a.attr("data-device");var b=$(window).outerWidth();return 768>b?"mobile":1170>b?"tablet":"desktop"}function calculateFullWidthElement(){var a=$("style#wz_full_width_element"),b=getDevice(),c="100vw";a.length||(a=$("<style>").appendTo($("head")),a.attr("id","wz_full_width_element"));var d=1170;"tablet"===b?d=768:"mobile"===b&&(d=468);var e=".wz-element.wz-element-full-width{width:"+c+"; left: calc(-1 * (("+c+" - "+d+"px) / 2))}";a.html(e)}var WidgetSetting=function(){function a(){}return a.getWidgetSetting=function(b,c,d){return void 0===d&&(d=!1),a._settings.hasOwnProperty(b)&&a._settings[b].hasOwnProperty(c)?a._settings[b][c]:d},a.setWidgetSetting=function(b,c,d){a._settings.hasOwnProperty(b)||(a._settings[b]={}),a._settings[b][c]=d},a._settings={},a}();FormData,"undefined"==typeof currency_sign&&(currency_sign=" تومان"),"undefined"==typeof shop_product_hide_option&&(shop_product_hide_option=!0),"undefined"==typeof recent_product_page_size&&(recent_product_page_size=12),function(a){var b=a(window),c=a("body"),d=[];a.wz_cache={};a('<div class="wz-loader-container"><div class="sk-circle"><div class="sk-circle1 sk-child"></div><div class="sk-circle2 sk-child"></div><div class="sk-circle3 sk-child"></div><div class="sk-circle4 sk-child"></div><div class="sk-circle5 sk-child"></div><div class="sk-circle6 sk-child"></div><div class="sk-circle7 sk-child"></div><div class="sk-circle8 sk-child"></div><div class="sk-circle9 sk-child"></div><div class="sk-circle10 sk-child"></div><div class="sk-circle11 sk-child"></div><div class="sk-circle12 sk-child"></div></div></div>');!function(a){a.prototype.formatNumber=function(){var a=this.toString().split(".");return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),a.join(".")},a.prototype.convertToLocalNumber=function(){var a=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"];return this.toString().replace(/[0-9]/g,function(b){return a[+b]})},a.prototype.convertToLatinNumber=function(){return this.replace(/[\u0660-\u0669]/g,function(a){return a.charCodeAt(0)-1632}).replace(/[\u06f0-\u06f9]/g,function(a){return a.charCodeAt(0)-1776})},a.prototype.slugify=function(a){return void 0===a&&(a=!0),this.toString().trim().replace(new RegExp("[^؀-ۿ\\uFB8Aپچگa-z0-9-"+(a?"":"/")+"]","gi"),"-").replace(/-+/g,"-").replace(/^-|-$/g,"")},a.prototype.thumb=function(a,b,c){return void 0===c&&(c="k"),-1===this.indexOf(upload_url)?this:(-1===["s","k","c"].indexOf(c)&&(c="k"),this.replace(RegExp("(.[a-zA-z0-9]+$)","g"),function(d){return".w_"+Math.round(a)+",h_"+Math.round(b)+",r_"+c+d}))}}(String),a(function(){a.getUrlQueries=function(){var b={};return a.each(document.location.search.substr(1).split("&"),function(a,c){var d=c.split("=");b[d[0].toString()]=d[1].toString()}),b},a.wzOnceTimeout=function(a,b,c){void 0===c&&(c=1500),clearTimeout(d[a]),d[a]=setTimeout(b,c)},a.wzUuid=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},a.wzConvertToLocalNumber=function(a){return a.toString().convertToLocalNumber()},a.wzGetFilterPrice=function(b,c){return a.wzConvertToLocalNumber(Math.round(b)).toString().formatNumber()+currency_sign+" - "+a.wzConvertToLocalNumber(Math.round(c).toString().formatNumber())+currency_sign},a.wzUpdateShopList=function(){var b=a(".wz-shop-filter"),c=a('[data-widget="wz-shop-recent"] .wz-shop-recent:not(.wz-recent-partial)'),d=c.parents('[data-widget="wz-shop-recent"]'),e=b.find('[type="checkbox"]'),f=d.find(".wz-shop-sort select"),g=d.find(".wz-shop-per-page select"),h=a(".wz-shop-price-slider"),i=h.data("price"),j=a(".wz-loader-container.wz-loader-container-fix");j.show();var k=[];e.filter(":checked").each(function(){var b=a(this);k.push(b.attr("name")+"="+b.val())});var l=decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent("q").replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"));if(WebziValidate.isEmpty(l)||k.push("q="+l),history.pushState){k.push("sort="+(f.val()||"newest")),g.length&&g.val()!=g.children("option").first().val()&&k.push("pageSize="+g.val()),i&&(k.push("price[min]="+i.from),k.push("price[max]="+i.to));var m=k.join("&"),n=+m.toString().length>0?"?"+m:"",o=recent_product_page_size;g.length&&(o=g.val());var p=window.location.protocol+"//"+window.location.host+window.location.pathname+n;window.history.pushState({path:p},"",p),"undefined"==typeof recent_product_show_attributes&&(recent_product_show_attributes=!1);var q=shop_recent_api_url+n+("&withFilter=true&"+("undefined"!=typeof shop_category_page_id?"category="+shop_category_page_id:""))+(recent_product_show_attributes?"&showAttributes=true":"")+(-1==n.indexOf("pageSize")?"&pageSize="+o:"");a.getJSON(q,function(f){if(f.hasOwnProperty("items")){var g=c.position().top;a(window).scrollTop()>g&&a("html, body").animate({scrollTop:g},250),setTimeout(function(){c.html("");var b=a("template#shop-product-template").html().replace(RegExp("&lt;%","g"),"<%").replace(RegExp("%&gt;","g"),"%>"),e=_.template(b);if(f.items.length>0?a.each(f.items,function(a,b){c.append(e({product:b}))}):a("<div>").addClass("wz-shop-recent-empty").text("هیچ محصولی یافت نشد.").appendTo(c),Number(f.count)>o){for(var g=a("template#shop-recent-pagination-button-template").html().replace(RegExp("&lt;%","g"),"<%").replace(RegExp("%&gt;","g"),"%>"),h=_.template(g),i=a("link[rel='canonical']").text(),j=a("<ul>").addClass("wz-pagination"),k=Math.ceil(Number(f.count)/o),l=1;k>=l;l++)if(10>=l){var m=a("<li>").appendTo(j);m.html(h({page:{num:l.toString().formatNumber().convertToLocalNumber(),url:i+n+(-1===n.indexOf("?")?"?":"&")+"page="+l}}))}if(k>1){var m=a("<li>").appendTo(j);m.html(h({page:{num:recent_product_next_page,url:i+n+(-1===n.indexOf("?")?"?":"&")+"page=2"}}))}j.children().first().addClass("active"),c.append(j)}var p=d.height();d.css("height","auto");var q=d.height();d.css("height",p),d.cascadeHeight(q-p)},300)}if(f.hasOwnProperty("filter")&&a("#shop-product-filter-option").length){var h=a("#shop-product-filter-option").html().replace(RegExp("&lt;%","g"),"<%").replace(RegExp("%&gt;","g"),"%>"),i=a("#shop-product-filter-category").html().replace(RegExp("&lt;%","g"),"<%").replace(RegExp("%&gt;","g"),"%>"),k=_.template(h),l=_.template(i);b.children("li.wz-shop-filter-item").not(".wz-shop-filter-price, .wz-shop-filter-category").remove();var m=b.find(".wz-shop-filter-category ul");m.length&&m.html(l({filter:f.filter})),b.append(k({filter:f.filter})),e=b.find('[type="checkbox"]'),a.renderProductFilter()}setTimeout(function(){j.hide()},100)})}},a.renderProductFilter=function(){var b=a(".wz-shop-filter"),c=a('[data-widget="wz-shop-recent"] .wz-shop-sort select'),d=a('[data-widget="wz-shop-recent"] .wz-shop-per-page select'),e=document.location.search.replace("?","").split("&");a.each(e,function(e,f){f=decodeURIComponent(f);var g=f.lastIndexOf("=");if(-1!==g){var h=f.slice(0,g),i=f.slice(g+1);if("sort"===h)c.val(i);else if("pageSize"===h)d.val(i);else if("price[min]"===h||"price[max]"===h)setTimeout(function(){var b=a(".wz-shop-price-slider"),c=b.find("input").data("ionRangeSlider");if(c){var d=Number(b.attr("data-max-price")),e=Number(b.attr("data-min-price")),f=Number(i);if("price[min]"===h&&(e>f&&(f=e),f>d&&(f=e),c.update({from:f})),"price[max]"===h){var g=b.attr("data-min-price");g>f&&(f=d),f>d&&(f=d),c.update({to:f})}}},100);else{var j=h.replace("]","").split("[",2);if(j[0]&&j[1]){var k=j[0]+"["+j[1]+"]",l=b.find("input[type=checkbox][name*='"+k+"'][value='"+i+"']");l.parents(".dropdown").addClass("open"),l.prop("checked",!0)}}}})},a.getSelectedCombination=function(){var b=null,c=a(".wz-shop-product-page .wz-shop-product-options .wz-shop-product-option"),d=[];c.find("input:checked, select").each(function(){var b=a(this);d.push(b.val())}),d=d.sort(function(a,b){return a-b});var e=d.join();return"object"==typeof product_combinations&&a.each(product_combinations,function(a,c){var d=c.optionsId.sort(function(a,b){return a-b});return d.join()===e?(b=c,!1):void 0}),b},a.getProductFieldValues=function(){var b=a(".wz-shop-product-page .wz-shop-product-option-field"),c=!1;return b.length>0&&(c={},b.each(function(){var b=a(this).find("textarea, input"),d=b.val();d.toString().length>0&&(c[b.attr("id").replace("product-field-","")]=d)})),c},a.fn.hasFontSize=function(){return a(this).filter(function(){var b=a(this).attr("style");return/font-size:[^;]+px/.test(b)})},a.changTextFontsSize=function(){var b=getDevice();a("[data-text-change-size]").each(function(){var c=a(this),d=parseFloat(c.attr("data-"+b+"-text-size"))||0,e=c.find("span, p, h1, h2 ,h3 ,h4, h5, h6").hasFontSize();e.each(function(){var b=a(this),c=b.attr("desktop-font-size");c||(c=parseFloat(b.css("font-size")),b.attr("desktop-font-size",c)),b.css("font-size",(1+d)*c+"px")})})},a.fn.hideOutOfStockOption=function(){var b=a(this),c=b.val();if(a(".wz-hide-out-of-stock-loading").length>0)return!1;b.addClass("wz-hide-out-of-stock-loading");var d=a.getSelectedCombination(),e=d.optionsId;if("object"==typeof product_combinations){var f=[],g=[];a.each(product_combinations,function(a,b){if("1"!=b.in_stock||"1"!=b.visible)if(-1!==b.optionsId.indexOf(c)){for(var d=0,h=[],i=0;i<e.length;i++)i!==e.indexOf(c)&&e[i]!==b.optionsId[i]&&(d++,h.push(b.optionsId[i]));if(1==d)for(var i=0;i<h.length;i++){var j=h[i];"1"!=b.visible?g.push(".wz-shop-product-options [value="+j+"], .wz-shop-product-options [data-id="+j+"]"):f.push(".wz-shop-product-options [value="+j+"], .wz-shop-product-options [data-id="+j+"]")}}else{for(var d=0,i=0;i<e.length;i++)i!==e.indexOf(c)&&e[i]===b.optionsId[i]&&d++;if(d===e.length-1){var j=b.optionsId[e.indexOf(c)];"1"!=b.visible?g.push(".wz-shop-product-options [value="+j+"], .wz-shop-product-options [data-id="+j+"]"):f.push(".wz-shop-product-options [value="+j+"], .wz-shop-product-options [data-id="+j+"]")}}}),a(".wz-shop-product-option").find("li, .dropdown-menu [data-id]").removeClass("out-of-stock").removeClass("hide"),a(g.join(",")).each(function(){a(this).parents("li").first().addClass("hide"),a(this).filter("[data-id]").addClass("hide")}),a(f.join(",")).each(function(){a(this).parents("li").first().addClass("out-of-stock"),a(this).filter("[data-id]").addClass("out-of-stock")}),b.removeClass("wz-hide-out-of-stock-loading")}},a.fn.renderProductOption=function(){a(this).each(function(){var b=a(this),d=b.parents(".wz-element"),e=b.find(".wz-shop-product-options"),f=b.find(".wz-shop-product-options .wz-shop-product-option"),g=null;b.find(".wz-shop-product-sellers").length>0&&b.find(".wz-shop-product-add-cart:not(.wz-shop-product-seller-add-cart), .wz-shop-product-price").hide();var h=function(){var c=null;f.find("input:checked, select").each(function(){var b=a(this);"undefined"!=typeof product_option_images&&product_option_images.hasOwnProperty("id")&&b.attr("data-option-id")==product_option_images.id&&(c=b.val())});var e=a.getSelectedCombination();if(e){var h=b.find(".wz-shop-product-price"),i=b.find(".wz-shop-product-out-stock");if(c&&"undefined"!=typeof product_option_images&&product_option_images.hasOwnProperty("id")&&product_option_images.hasOwnProperty("values")&&(!g||g!=c)&&(g=c,product_option_images.values.hasOwnProperty(c))){var j=product_option_images.values[c];setTimeout(function(){var b=a(".wz-shop-product-page .wz-gallery-slider"),c=b.data("flexslider"),d=a(".wz-shop-product-page .wz-gallery-carousel"),e=d.data("flexslider"),f=a(".wz-shop-product-page .wz-gallery-slider .slides li:not(.clone)"),g=a(".wz-shop-product-page .wz-gallery-carousel .slides li:not(.clone)"),h=g.length>0,i=a("#shop-product-images-template"),k=i.prop("content"),l=a(k).find("li");f.each(function(){c.removeSlide(a(this))}),g.each(function(){e.removeSlide(a(this))});var m=[];j.forEach(function(a){l.filter("[data-image-id="+a+"]").length&&m.push(a)}),j=m,Array.isArray(j)&&j.length>0?j.forEach(function(d){if(c.addSlide(l.filter("[data-image-id="+d+"]").clone()),h){var f=l.filter("[data-image-id="+d+"]").clone().removeAttr("data-thumb").removeAttr("data-image-id");f.click(function(){var c=a(this);b.flexslider(c.index()),a(".wz-shop-product-page .wz-gallery-carousel .slides li").removeClass("flex-active-slide"),c.addClass("flex-active-slide")}),e.addSlide(f)}}):l.each(function(){if(c.addSlide(a(this).clone()),h){var d=a(this).clone().removeAttr("data-thumb").removeAttr("data-image-id");d.click(function(){var c=a(this);b.flexslider(c.index()),a(".wz-shop-product-page .wz-gallery-carousel .slides li").removeClass("flex-active-slide"),c.addClass("flex-active-slide")}),e.addSlide(d)}}),e.removeClass("flex-vertical-centered flex-centered"),"vertical"===e.vars.direction?(d.children("li").css({marginBottom:e.vars.itemMargin||0}),(d.height()>e.viewport.height()||1===j.length)&&e.addClass("flex-vertical-centered")):(a(window).trigger("resize"),1===e.pagingCount&&e.addClass("flex-centered")),a(".zoomContainer").remove(),d.find("li").first().addClass("flex-active-slide"),b.flexslider(0)},100)}1!=e.in_stock||1!=e.visible?(i.length||(i=a("<div>").addClass("wz-shop-product-out-stock").insertAfter(h),h.remove()),i.text(product_out_of_stock),b.addClass("wz-product-out-of-stock")):(b.removeClass("wz-product-out-of-stock"),h.length||(h=a("<div>").addClass("wz-shop-product-price").insertAfter(i),i.remove()),e.sale_price?(h.html(""),a("<span>").addClass("wz-shop-product-old-price").text(e.price.toString().formatNumber().convertToLocalNumber()+currency_sign).appendTo(h),a("<span>").addClass("wz-shop-product-sale-price").text(e.sale_price.toString().formatNumber().convertToLocalNumber()+currency_sign).appendTo(h)):h.html(a("<span>").text(e.price.toString().formatNumber().convertToLocalNumber()+currency_sign)));var k=b.find(".wz-shop-product-sku");e.sku?k.text(product_text_sku+": "+e.sku):k.text("");var l=d.height();d.css("height","auto");var m=d.height();d.css("height",l),d.cascadeHeight(m-l)}};if(c.hasClass("wz-production")){f.find("input, select");f.find("input, select").on("change",function(b){var c=[];f.find("input:checked, select").each(function(){var b=a(this);c.push(b.attr("name").slugify()+"-"+b.val())});var d=c.join("/");document.location.hash=decodeURI(d),shop_product_hide_option&&a(this).hideOutOfStockOption(),h()})}f.each(function(){var b=a(this),c=e.find("[name="+b.attr("id")+"][type=radio]").first();if(c.prop("checked",!0),b.hasClass("wz-shop-product-colors")){var d=c.next().attr("data-title");b.find(".wz-shop-product-color-result").text(" : "+d)}});var i=document.location.hash.replace("#","").split("/");if(a.each(i,function(b,c){var d=c.lastIndexOf("-");if(-1!==d){var e=decodeURI(c.slice(0,d)),f=decodeURI(c.slice(d+1));a("select[name="+e+"]").val(f).parents(".dropdown.dropdown-list").wzDropDown(),a("input[type=radio][name="+e+"][value="+f+"]").prop("checked",!0)}}),"object"==typeof product_combinations&&shop_product_hide_option){var j=a.getSelectedCombination();if(!j||"1"!=j.in_stock||"1"!=j.visible){var k=null;a.each(product_combinations,function(a,b){return"1"==b.in_stock&&"1"==b.visible?(k=b,!1):void 0}),k&&a.each(k.optionsId,function(b,c){var d=a(".wz-shop-product-options [value="+c+"], .wz-shop-product-options  .dropdown-list [data-id="+c+"]"),e=d.parents(".wz-shop-product-option").find("select");if(e.length){e.val(c);var f=e.parents(".wz-shop-product-option"),g=f.find("[data-id="+c+"]");f.find(".selected").removeClass("selected"),g.addClass("selected"),f.find(".dropdown-select").text(g.text()),f.find("select").val(g.attr("data-id")),e.trigger("change")}d.click()})}a('.wz-shop-product-options [type="radio"]:checked, .wz-shop-product-options select').first().trigger("change",{manual:!0})}h()})},a.wzRenderShopFilterCategories=function(b){var c=a("<uL>");return b.forEach(function(b){var d=a("<li>").appendTo(c),e=a("<a>").text(b.name).appendTo(d);if(e.attr({href:b.url}),b.hasOwnProperty("items")){var f=a("<ul>").addClass("sub-list").appendTo(d);f.html(a.wzRenderShopFilterCategories(b.items))}}),c.html()},a.fn.wzDropDown=function(b){return a(this).each(function(){var c=a(this),d=a.extend(!0,{},{direction:"rtl"},b);c.addClass("dropdown dropdown-list dropdown-"+d.direction),c.attr("data-wz-toggle","dropdown");var e=c.find("select");e.hide();var f=a("<div>").addClass("dropdown-menu "),g={},h=null;e.find("option").each(function(){var b=a(this);g[b.val()]=b.text(),h&&e.val()!==b.val()||(h=b.val()),a("<a>").attr("name","drop-down-"+b.val()).attr("data-id",b.val()).text(b.text()).appendTo(f)}),e.nextAll().remove(),a("<a>").addClass("dropdown-select").text(g[h]).appendTo(c),f.appendTo(c),f.find("[name=drop-down-"+h+"]").addClass("selected")}),this},a.fn.waitForImages=function(b){var c=a(this).find("img"),d=c.length,e=0;c.each(function(){var b=a(this).get(0);b.complete&&d--}),d>0?c.on("load",function(){e++,d===e&&b.call(null)}):b.call(null)},a.fn.attrDevice=function(b){var c=a(this),d=getDevice();return"mobile"===d?c.attr(b+"-mobile"):"tablet"===d?c.attr(b+"-tablet"):c.attr(b)},a.fn.webziGalleryRender=function(){a(this).each(function(){var b=a(this),c=b.hasClass("wz-gallery-masonry")?"masonry":"grid",d=b.parents(".wz-element").first(),e=d.attrDevice("data-columns")||1,f=(d.attrDevice("data-rows")||1,d.attrDevice("data-grid-size")||9),g=d.attrDevice("data-grid-layout")||d.attr("data-grid-layout")||"normnal";if(b.attr("data-layout",g),"grid"===c){var h=b.children("li");h.removeClass("hide"),h.length>f?(b.css("height","calc(100% - 25px)"),d.find(".more-image").addClass("show"),b.children("li:gt("+(f-1)+")").addClass("hide")):(b.height("inherit"),d.find(".more-image").removeClass("show"))}else"masonry"===c&&b.css("column-count",e)})},a.fn.wzCountDown=function(b){a(this).each(function(){function c(a){var b=a.match(w),c={};return g.forEach(function(a,d){c[a]=b[d]}),c}function d(a,b){var c=[];return g.forEach(function(d){a[d]!==b[d]&&c.push(d)}),c}var e=a(this),f=a("<div>"),g=["week","day","hour","minute","second"],h={week:"%w",day:"%D",hour:"%H",minute:"%M",second:"%S"},i=b.repeat||"never",j=(new Date).toLocaleString().split(/[, ]+|[\s]+/g),k=j[0]+" "+j[1],l=b.endDate||k,m={week:b.weekLabel||"Week",day:b.dayLabel||"Day",hour:b.hourLabel||"Hour",minute:b.minuteLabel||"Minute",second:b.secondLabel||"Second"};if(b.hasOwnProperty("showNames")||(b.showNames=!0),b.hasOwnProperty("showWeek")||(b.showWeek=!0),b.hasOwnProperty("convertLocal")||(b.convertLocal=!0),b.hasOwnProperty("showDay")||(b.showDay=!0),b.hasOwnProperty("showSecond")||(b.showSecond=!0),b.showWeek&&(h={week:"%w",day:"%d",hour:"%H",minute:"%M",second:"%S"}),b.style=b.style||"normal","flip"===b.style?e.addClass("with-flip"):e.addClass("normal"),"never"!==i){var n=864e5,o=7*n,p=new Date(l),q=new Date,r=n;"everyDay"===i?r=n:"everyWeek"===i&&(r=o);var s=Number(q.getTime())-Number(p.getTime());if(s>0){var t=Math.floor(s/r)+1;p=new Date(p.getTime()+t*r),l=p.getFullYear()+"/"+(p.getMonth()+1)+"/"+p.getDate()+" "+p.getHours()+":"+p.getMinutes()+":"+p.getSeconds()}}g.forEach(function(c){if(("week"!==c||b.showWeek)&&("second"!==c||b.showSecond)&&("day"!==c||b.showDay)){var d=a('<div class="wz-countdown-part">').addClass(c).appendTo(f),e=a('<div class="wz-countdown-value">').appendTo(d);"normal"===b.style?(a('<div class="wz-countdown-text">').text(h[c]).appendTo(e),a('<div class="wz-countdown-colon">').text(":").appendTo(e)):(a('<div class="count curr top">').text(h[c]).appendTo(e),a('<div class="count next top">').text(h[c]).appendTo(e),a('<div class="count next bottom">').text(h[c]).appendTo(e),a('<div class="count curr bottom">').text(h[c]).appendTo(e)),b.showNames&&a('<div class="wz-countdown-name">').text(m[c]).appendTo(d)}});var u="00:00:00:00:00",v="00:00:00:00:00",w=/([0-9]{2})/gi,x=!0;e.countdown(l,function(a){if(x&&(b.convertLocal?e.html(a.strftime(f.html()).toString().convertToLocalNumber()):e.html(a.strftime(f.html())),x=!1),!b.review)if("normal"===b.style)b.convertLocal?e.html(a.strftime(f.html()).toString().convertToLocalNumber()):e.html(a.strftime(f.html()));else{var g=a.strftime("%w:%d:%H:%M:%S");if(b.showWeek||(g=a.strftime("%w:%D:%H:%M:%S")),g!==v){u=v,v=g;var h={curr:c(u.toString().convertToLatinNumber()),next:c(v.toString().convertToLatinNumber())};d(h.curr,h.next).forEach(function(a){var c=".wz-countdown-part.%s".replace(/%s/,a),d=e.find(c);d.removeClass("flip"),b.convertLocal?(d.find(".curr").text(h.curr[a].toString().convertToLocalNumber()),d.find(".next").text(h.next[a].toString().convertToLocalNumber())):(d.find(".curr").text(h.curr[a]),d.find(".next").text(h.next[a])),setTimeout(function(a){a.addClass("flip")},50,d)})}}})})},a.fn.webziSliderRender=function(d){var e=null;a(this).each(function(){var b=a(this),f=a.extend(!0,{},{animation:"slide",preloader:!0,preloadTheseFrames:[1],controlNav:!1,slideshow:!1,prevText:"",nextText:"",rtl:!0},d);f.hasOwnProperty("slideshowSpeed")&&(f.slideshowSpeed*=1e3);var g={zoomWindowPosition:f.rtl?11:1,borderSize:0,easing:!0,lensFadeIn:500,lensFadeOut:500,zoomType:"inner",cursor:"crosshair"},h=null,i=null;f.hasOwnProperty("start")&&(h=f.start),f.hasOwnProperty("after")&&(h=f.after);var j=b.find("[data-animation]");c.hasClass("theme-editing")||j.each(function(){"desktop"!==getDevice()&&j.attr("data-"+getDevice()+"-animation")?j.find(".wz-template").wzAnimationPlay({prefix:"data-"+getDevice()+"-animation"}):j.find(".wz-template").wzAnimationPlay()}),f.before=function(a){c.hasClass("theme-editing")||b.find(".flex-viewport li:not(.flex-active-slide) [data-animation] .wz-template").stop(!0,!0).wzAnimationPlay("goStep","0")},f.start=function(a){if(b.attr("lastSlide")||-1!=a.currentSlide){if(f.zoom&&!c.hasClass("theme-editing")){var d=b.find(".flex-active-slide:not(.clone) img"),e=d[0];d.width()<e.naturalWidth&&b.find(".flex-active-slide img").ezPlus(g)}b.trigger("sliderStart"),h&&h(),c.hasClass("theme-review")&&b.find(".flex-active-slide [data-animation] .wz-template").wzAnimationPlay("goStep","0").wzAnimationPlay("play"),b.attr("lastSlide",a.currentSlide)}},f.after=function(d){if(b.attr("lastSlide")!=d.currentSlide){if(f.zoom&&!c.hasClass("theme-editing")){a(".zoomContainer").remove();var e=b.find(".flex-active-slide:not(.clone) img"),h=e[0];e.width()<h.naturalWidth&&b.find(".flex-active-slide:not(.clone) img").ezPlus(g)}i&&i(),c.hasClass("theme-editing")?(b.find(".wz-element-container").hide(),b.find(".flex-active-slide .wz-element-container").show()):b.find(".flex-active-slide [data-animation] .wz-template").wzAnimationPlay("play"),b.attr("lastSlide",d.currentSlide)}},f.added=function(){f.zoom&&!c.hasClass("theme-editing")&&(e=setTimeout(function(){clearTimeout(e),a(".zoomContainer").remove();var c=b.find(".flex-active-slide:not(.clone) img"),d=c[0];c.width()<d.naturalWidth&&b.find(".flex-active-slide img").ezPlus(g)},50))};var k=b.find(".slides li img"),l=f.position||"bottom";if(delete f.position,f.sync&&k.length>1){var m=b.parent(".wz-template, .wz-partial-template"),n=m.find(".wz-gallery-carousel"),o=n.children(".slides");k.each(function(){var b=a(this),c=a("<li>");c.appendTo(o);var d=a("<img src=''>").attr("src",b.attr("src"));a("<div>").addClass("wz-image-ratio").html(d).appendTo(c)});var p="top"===l||"bottom"===l?"horizontal":"vertical";m.css({display:"flex",flexDirection:"horizontal"===p?"column":"row"}),"vertical"===p&&n.addClass("wz-gallery-carousel-vertical"),("top"===l||"left"===l)&&n.addClass("wz-gallery-carousel-reverse");var q=Math.floor((m.width()-40)/70);n.flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:60,maxItems:q,itemMargin:5,direction:p,rtl:f.rtl,asNavFor:"#"+b.attr("id"),prevText:"",nextText:"",start:function(b){if(b.removeClass("flex-vertical-centered flex-centered"),"vertical"===b.vars.direction){var c=b.viewport.find(".slides");c.children("li").css({marginBottom:b.vars.itemMargin||0}),c.height()<b.viewport.height()&&b.addClass("flex-vertical-centered")}else a(window).trigger("resize"),1===b.pagingCount&&b.addClass("flex-centered")}}),f.sync="#"+n.attr("id")}var r=(f.maxItems,f.minItems,b.find(".slides li").length,getDevice());if(f.hasOwnProperty("desktopItemWidth")&&"desktop"!==r){var s=b.width();s>1170&&(s=1170);var t=Math.floor(s/f.desktopItemWidth);1>t&&(t=1),f.maxItems=t,f.minItems=t}var u=a(this),v=u.flexslider(f).data("flexslider");if(f.hasOwnProperty("desktopItemWidth")){var w=null;c.hasClass("wz-production")&&"desktop"!==r&&a(window).resize(function(c){a.isWindow(c.target)&&(clearTimeout(w),w=setTimeout(function(){var a=b.width();a>1170&&(a=1170);var c=Math.floor(a/f.desktopItemWidth);1>c&&(c=1),v.vars.maxItems=c,v.vars.minItems=c,setTimeout(function(){v.resize()},10)},10))})}}),b.resize()},a.fn.cascadeHeight=function(b,d,e){void 0===e&&(e=!0);var f=a(this);f.attr("data-widget");if(!f.is(":visible"))return!1;var g=".wz-element:not(.fixed-element-"+getDevice()+")";if(f.parents("[wz-autoHeight]").length)return!1;if(!f.length)return!1;if(Math.abs(b)<1&&c.hasClass("wz-production"))return!1;if("undefined"==typeof b)return!1;var h=!1,i=f.position(),j=f.height(),k=i.top+j,l=Math.round(i.left),m=Math.round(l+f.width());f.addClass("changed-height-production"),"undefined"!=typeof d&&"keepChanged"!==d&&(k=d);var n=f.parents(".wz-section"),o=f.parents(g).first(),p=[];k>n.position().top+n.height()&&(h=!0);var q=0,r=a("<div>");n.children(g).each(function(){var b=a(this),c=b.position().top+b.height();c>q&&(q=c,r=b)});var s=Number(n.height())-Number(q);if(o.length){if(!o.hasClass("parent-changed-height")){var t=o.position();o.addClass("changed-height parent-changed-height");var u=0,v=k,w=f,x=f;if(o.find(".wz-element-container").first().children(g+":not(.changed-height)").not(f).each(function(){var c=a(this),d=c.position();if(d.top+c.height()>=k){var e=Math.round(d.left),f=Math.round(e+c.width());if(f>=l&&m>=e){c.addClass("changed-height");var g=d.top+c.height();p.push({element:c,bottom:g}),g>v&&(v=g,w=c),c.css("top","+="+b+"px").addClass("changed-height-production")}}}),o.find(".wz-element-container").first().children(g+":not(.changed-height)").not(f).each(function(){var b=a(this),c=b.position(),d=c.top+b.height();c.top+b.height()>u&&(u=d,x=b)}),v+b>u){var y=b;u&&u>v&&(y=b-(u-v)),p.push({element:o,bottom:t.top+o.height(),diffHeight:y}),o.css("height","+="+y+"px").addClass("changed-height-production")}}}else n.children(g+":not(.changed-height)").not(f).each(function(){var c=a(this),d=c.position();if(d.top+c.height()>=k){var e=Math.round(d.left),f=Math.round(e+c.width());f>=l&&m>=e&&(c.addClass("changed-height"),p.push({element:c,bottom:d.top+c.height(),diffHeight:b}),c.css("top","+="+b+"px").addClass("changed-height-production"))}});p.forEach(function(a){a.element.addClass("changed-height-size"),a.element.cascadeHeight(a.diffHeight,a.bottom)}),("undefined"==typeof d||"keepChanged"===d)&&f.height("+="+b).addClass("changed-height");var z=0,A=null;n.children(".wz-element.changed-height").each(function(){var b=a(this),c=b.position().top+b.height();c>z&&(z=c,A=b)});var B=0,C=null;if(n.children(g).each(function(){var b=a(this),c=b.position().top+b.height();c>B&&(B=c,C=b)}),e&&("undefined"==typeof d||"keepChanged"===d&&!f.hasClass("wz-new-element")))if(r&&A&&r.attr("id")!==A.attr("id")){if(z>q){var D=n.height()-q;0>D&&(D=0),n.height(z+D+"px")}}else n.height("+="+b),B>n.height()&&n.height(B+s);return"undefined"==typeof d&&a(".changed-height").removeClass("changed-height changed-height-size").removeClass("parent-changed-height"),n.addClass("changed-height-production"),this},a.fn.validate=function(){var b=a(this);return b.find("[wz-validate]").filter("input, select, textarea, .wz-form-radioButton").removeClass("has-error").each(function(){var b=a(this);b.trigger("blur")}),!b.find("[wz-validate]:visible.has-error").length},a.fn.autoHeight=function(){a(this).each(function(b){var d,e=a(this),f=e.attr("data-widget"),g=!0,h=e.height();if(e.css("height","auto"),d=e.height(),e.css("height",h),c.hasClass("wz-production")&&("wz-text"===f?("desktop"===getDevice()&&(g=!1),Math.abs(d-h)<50&&(g=!1)):"wz-shop-cart-icon"===f&&(g=!1)),g){var i=d-h;Math.abs(i)>0&&e.cascadeHeight(i)}})},a.fn.wzParallax=function(){a(this).each(function(){var c=a(this),d=function(){var a=c.css("background-position").split(" ")[0],d=b.scrollTop(),e=.1,f=c.offset().top;c.height()<200&&(e=.2),c.css("background-attachment","fixed"),f>=b.height()?c.css("background-position",a+" "+Math.floor(-(e*(d-f)))+"px"):c.css("background-position",a+" "+Math.floor(-(e*d))+"px")};d(),b.on("scroll.webzi",d)})},a.fn.wzSticky=function(){var d=a(this);d.each(function(){var b=a(this);b.attr("data-start-top-position",Math.ceil(b.position().top))});var e=function(){d.each(function(){var e=a(this),f=b.scrollTop(),g=0;d.filter(".fixed").not(e).each(function(){g+=a(this).height()}),0===Math.ceil(f)?(d.removeClass("fixed"),d.css("top",0),c.css("paddingTop","0")):Math.ceil(f+g)>e.attr("data-start-top-position")?e.hasClass("fixed")||(c.css("paddingTop","+="+e.height()),e.addClass("fixed"),e.css("top",g)):(e.removeClass("fixed"),e.css("top",0),c.css("paddingTop","-="+e.height()))})};b.on("scroll.webzi",e),e()},a.fn.wzAnimation=function(){var d=a(this),e=[],f=c.hasClass("theme-review")&&"desktop"!==getDevice(),g=function(c){var d=c.offset().top;c.data("startOffset")&&(d=c.data("startOffset").top),d=Number(d);var g=(c.height(),c.attr("data-animated")),h=c.attr("data-animation"),i=c.attr("data-animation-duration")||.3,j=c.attr("data-animation-delay")||0,k=b.scrollTop()+b.height();if(f&&(k=a("#wz-root").height()+a("#wz-root").scrollTop()),k>d&&"true"!==g){var l=c.attr("id");if(h.startsWith("wz-"))if("desktop"===getDevice()&&"true"===c.attr("data-animation-on-scroll")){var m=c.attr("data-animation-on-scroll-speed")||0,n=Number(b.height()),o=Number(b.scrollTop()),p=1-(d+-o)/n;p=100*p,130>p&&p>-30&&(c.find(".wz-template").length?c.find(".wz-template").wzAnimationPlay("goStep",p,m):c.wzAnimationPlay("goStep",p,m))}else c.attr("data-animated","true"),c.find(".wz-template").length?c.find(".wz-template").wzAnimationPlay("play"):c.wzAnimationPlay("play");else c.css("animationDelay",j+"s"),c.css("animationDuration",i+"s"),e.hasOwnProperty(l)&&clearTimeout(e[l]),c.removeClass("animation-start"),e[l]=setTimeout(function(){c.attr("data-animated","true"),c.removeClass(h),c.css("animationDelay",""),c.css("animationDuration","")},1e3*(Number(j)+Number(i)+.2))}};b.on("scroll.webzi",function(){d.each(function(){var b=a(this);g(b)})}),d.each(function(){var b=a(this),c=b.attr("data-animation");if(c.startsWith("wz-")){var d=b.offset();b.data("startOffset",d),b.find(".wz-template").length?"desktop"!==getDevice()&&b.attr("data-"+getDevice()+"-animation")?b.find(".wz-template").wzAnimationPlay({prefix:"data-"+getDevice()+"-animation"}):b.find(".wz-template").wzAnimationPlay():b.wzAnimationPlay()}b.addClass("animated animation-start"),b.addClass(b.attr("data-animation")),g(b)})}})}(jQuery);var WebziCart=function(){function a(){}return a.refresh=function(a,b){if(void 0===b&&(b=!0),"success"===a.result){var c=$(".wz-shop-mini-cart-container"),d=c.find(".cart-product-list");d.html("");var e=$("template#shop-cart-item").html().replace(RegExp("&lt;%","g"),"<%").replace(RegExp("%&gt;","g"),"%>"),f=_.template(e);a.hasOwnProperty("cart")&&(a.cart.hasOwnProperty("items")&&$.each(a.cart.items,function(a,b){d.append(f({item:b}))}),a.cart.hasOwnProperty("total")&&c.find(".cart-shop-mini-subtotal .price").text(a.cart.total.toString().formatNumber().convertToLocalNumber()+currency_sign),a.cart.hasOwnProperty("count")&&$(".shop-cart-icon-container .shop-cart-count").text(a.cart.count.toString().formatNumber().convertToLocalNumber())),b&&c.addClass("open")}},a.refreshShippingList=function(a){void 0===a&&(a=null),$.getJSON(site_api_url+"shop/cart/getShippingList/",function(b){var c=$("template#checkout-shipping-item-template").html().replace(RegExp("&lt;%","g"),"<%").replace(RegExp("%&gt;","g"),"%>"),d=_.template(c),e=$("#wz-checkout-shipping-step .checkout-shipping-list tbody");e.html(""),b.hasOwnProperty("shipping")&&$.each(b.shipping,function(a,b){var c=$(d({
shipping:b}));0==a&&c.find("input[type=radio]").prop("checked",!0),e.append(c)}),$.isFunction(a)&&a.call()})},a}(),WebziValidate=function(){function a(){}return a.checkMobile=function(a){return/^(\+98)?[0]?[9]\d{9}$/.test(a)},a.checkPhone=function(a){return/^(\+98)?(0\d{2,3})?\d{7,8}$/.test(a)},a.checkNationalCode=function(a){if(!/^\d{10}$/.test(a)||"0000000000"==a||"1111111111"==a||"2222222222"==a||"3333333333"==a||"4444444444"==a||"5555555555"==a||"6666666666"==a||"7777777777"==a||"8888888888"==a||"9999999999"==a)return!1;var b,c=parseInt(a[9]),d=0;for(b=0;9>b;++b)d+=parseInt(a[b])*(10-b);return d%=11,2>d&&c==d||d>=2&&c+d==11},a.checkPostCode=function(a){return/^\d{10}$/.test(a)},a.checkMail=function(a){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)},a.isEmpty=function(a){return a.toString().length<1},a}();jQuery(document).ready(function(a){"use strict";function b(){jQuery("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").each(function(a,b){var c=jQuery(b);c.addClass("buttons_added"),c.children().first().before('<input type="button" value="-" class="minus" />'),c.children().last().after('<input type="button" value="+" class="plus" />')})}function c(b){b.preventDefault(),p.find(".has-error").removeClass("has-error"),o.addClass("is-visible"),p.addClass("is-selected"),q.removeClass("is-selected"),t.removeClass("is-selected"),r.removeClass("is-selected"),s.removeClass("is-selected"),v.addClass("selected"),w.removeClass("selected");var c=a("#wz-login form").get(0);c.reset()}function d(b){b.preventDefault(),q.find(".has-error").removeClass("has-error"),o.addClass("is-visible"),p.removeClass("is-selected"),t.removeClass("is-selected"),q.addClass("is-selected"),s.removeClass("is-selected"),r.removeClass("is-selected"),v.removeClass("selected"),w.addClass("selected");var c=a("#wz-register form").get(0);c.reset()}function e(b){b.preventDefault(),s.find(".has-error").removeClass("has-error"),p.removeClass("is-selected"),q.removeClass("is-selected"),t.removeClass("is-selected"),s.addClass("is-selected");var c=a("#wz-reset-password form").get(0);c.reset()}function f(b,c){b.preventDefault(),t.find(".has-error").removeClass("has-error"),p.removeClass("is-selected"),q.removeClass("is-selected"),s.removeClass("is-selected"),t.addClass("is-selected");var d=a("#wz-reset-password-code form").get(0);d.reset(),a("#wz-reset-password-code [name=user]").val(c)}var g=a("body"),h=a(document),i=a(window),j=a(".wz-loader-container.wz-loader-container-fix"),k=[];if(String.prototype.getDecimals||(String.prototype.getDecimals=function(){var a=this,b=(""+a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return b?Math.max(0,(b[1]?b[1].length:0)-(b[2]?+b[2]:0)):0}),jQuery(document).ready(function(){b()}),jQuery(document).on("updated_wc_div",function(){b()}),jQuery(document).on("click",".plus, .minus",function(){var a=jQuery(this).closest(".quantity").find(".qty"),b=parseFloat(a.val()),c=parseFloat(a.attr("max")),d=parseFloat(a.attr("min")),e=a.attr("step"),f=parseFloat(e);b&&""!==b&&"NaN"!==b||(b=0),""!==c&&"NaN"!==c||(c=""),""!==d&&"NaN"!==d||(d=0),"any"!==e&&""!==e&&void 0!==e&&"NaN"!==f||(e=1),jQuery(this).is(".plus")?c&&b>=c?a.val(c):a.val((b+parseFloat(e)).toFixed(e.getDecimals())):d&&d>=b?a.val(d):b>0&&a.val((b-parseFloat(e)).toFixed(e.getDecimals())),a.trigger("change")}),calculateFullWidthElement(),g.hasClass("wz-production")){var l=getDevice();if(a.changTextFontsSize(),setTimeout(function(){j.hide().addClass("with-opacity")},800),setTimeout(function(){document.hasOwnProperty("fonts")?document.fonts.ready.then(function(){a("[wz-autoHeight]").autoHeight(),j.hide().addClass("with-opacity"),a("div:not(.wz-gallery-slider) [data-animation][data-animation-type=scroll]").wzAnimation()}):setTimeout(function(){a("[wz-autoHeight]").autoHeight(),j.hide().addClass("with-opacity"),a("div:not(.wz-gallery-slider) [data-animation][data-animation-type=scroll]").wzAnimation()},150)},50*a(".flexslider ").length),g.hasClass("wz-production")&&"undefined"!=typeof audiojs){var m=audiojs.createAll({});m[0];a(".wz-audio ol li").first().addClass("playing"),g.on("click",".wz-audio   ol li",function(b){var c=m[0];b.preventDefault();var d=a(this);d.addClass("playing").siblings().removeClass("playing");var e=d.attr("data-src");c.load(e),c.play()})}g.on("change",".account-new-radio .regular-radio",function(){var b=a(this),c=b.parents(".wz-element").first();"yes"===b.val()?a(".checkout-account-new .wz-cart-address-register").show():a(".checkout-account-new .wz-cart-address-register").hide(),c.autoHeight()}),g.on("click",".wz-site-search-button",function(b){var c=a(this),d=c.parents(".wz-site-search"),e=d.find("input"),f=d.attr("wz-search-url");g.hasClass("wz-production")&&"gtag"in window&&gtag("event","search",{search_term:e.val()}),window.location.href=f+"?q="+e.val()}).on("keypress",".wz-site-search input",function(b){13==b.which&&a(this).siblings(".wz-site-search-button").click()}),g.on("change",'.wz-shop-per-page select, .wz-shop-sort select, .wz-shop-filter [type="checkbox"]',function(){a.wzUpdateShopList()}),g.on("click",".vjs-play-control, .vjs-big-play-button",function(){var b=a(this);!b.hasClass("vjs-playing")&&g.hasClass("wz-production")&&"gtag"in window&&gtag("event","videos",{event_category:"play",event_label:b.parents("[data-widget=wz-video]").attr("id")})}),g.on("click",'[data-widget="wz-shop-cart-icon"]',function(){var b=a(".wz-shop-mini-cart-container");b.hasClass("ready")?b.addClass("open"):a.ajax({method:"GET",url:site_api_url+"shop/cart/getItems/",dataType:"json",success:function(a){WebziCart.refresh(a),b.addClass("open ready")}})}),g.on("click",".wz-shop-mini-cart-container .cart-remove-item",function(b){b.preventDefault();var c=a(this),d=c.parents("li"),e=c.attr("data-id"),f=d.find(".cart-item-name").text(),h=d.find(".cart-item-model").text(),i=d.find("input.qty"),k=i.attr("data-quantity"),l=i.attr("data-price");j.show(),a.ajax({method:"GET",url:site_api_url+"shop/cart/remove/",dataType:"json",data:{id:e},success:function(a){if(WebziCart.refresh(a),g.hasClass("wz-production")&&"gtag"in window){setTimeout(function(){gtag("event","remove_from_cart",{items:[{id:this.id,name:f,variant:h,quantity:k,price:l}]})},1e3)}j.hide()}})}),g.on("change",".shop-cart-container .wz-shop-cart-item-quantity select, .shop-cart-container .wz-shop-cart-item-quantity .input-text.qty, .cart-item-quantity .input-text.qty",function(b){var c=a(this),d=c.val(),e=c.attr("data-quantity"),f=c.attr("data-id"),h=c.attr("data-price");j.show(),a.ajax({method:"POST",url:site_api_url+"shop/cart/changeQuantity/",dataType:"json",data:{id:f,quantity:d},success:function(b){if("success"!==b.result)c.val(e),b.hasOwnProperty("message")&&a.toast({text:b.message,showHideTransition:"fade",position:"top-right",hideAfter:5e3,textAlign:"right",icon:"error"});else{WebziCart.refresh(b,!1);var f=a("template#wz-cart-total-price-template");if(f.length){var i=f.html().replace(RegExp("&lt;%","g"),"<%").replace(RegExp("%&gt;","g"),"%>"),k=_.template(i);a(".shop-cart-container .cart-total-price").html(k({cart:b.cart})),c.parents(".wz-shop-cart-item").find(".wz-shop-cart-item-total").text((Number(h)*d).toString().convertToLocalNumber()+currency_sign)}if(j.hide(),g.hasClass("wz-production")&&"gtag"in window){var l=[];a.each(b.cart.items,function(a){l.push({id:this.id,name:this.title,category:this.category,variant:this.model,list_position:a,quantity:this.quantity,price:this.price})}),setTimeout(function(){gtag("event","add_to_cart",{items:l})},1e3)}}j.hide()}})}),g.on("click",".shop-cart-container .cart-remove-item",function(b){b.preventDefault();var c=a(this),d=c.parents(".wz-element").first(),e=c.parents("li"),f=c.attr("data-id"),h=e.find(".cart-item-name").text(),i=e.find(".cart-item-model").text(),k=e.find("input.qty"),l=k.attr("data-quantity"),m=k.attr("data-price"),n=c.parents(".shop-cart-container .wz-shop-cart-list");j.show(),a.ajax({method:"GET",url:site_api_url+"shop/cart/remove/",dataType:"json",data:{id:f},success:function(b){if(n.find(".wz-shop-cart-item").length<2)location.reload();else{WebziCart.refresh(b,!1);var e=a("template#wz-cart-total-price-template").html().replace(RegExp("&lt;%","g"),"<%").replace(RegExp("%&gt;","g"),"%>"),f=_.template(e);if(a(".shop-cart-container .cart-total-price").html(f({cart:b.cart})),c.parents(".wz-shop-cart-item").remove(),d.autoHeight(),j.hide(),g.hasClass("wz-production")&&"gtag"in window){setTimeout(function(){gtag("event","remove_from_cart",{items:[{id:this.id,name:h,variant:i,quantity:l,price:m}]})},1e3)}}}})}),g.on("click",".wz-shop-mini-cart-container, .wz-shop-mini-cart-container .close-button",function(b){var c=a(b.target);(c.hasClass("wz-shop-mini-cart-container")||c.closest(".close-button").length>0)&&a(".wz-shop-mini-cart-container").removeClass("open")}),g.on("click",".wz-shop-product-add-cart",function(b){var c=a(this),d=c.attr("data-id"),e=c.attr("data-combination-id")||null,f=!1;if(c.parents(".wz-shop-product-page").length){var h=a.getSelectedCombination();f=a.getProductFieldValues(),h&&(e=h.id)}return c.siblings("[type=radio]").length>0&&c.siblings("[type=radio]").prop("checked",!0),a.ajax({method:"POST",url:site_api_url+"shop/cart/add/",dataType:"json",data:{product_id:d,combination:e,fields:f},success:function(b){if("success"===b.result){if(WebziCart.refresh(b),g.hasClass("wz-production")&&"gtag"in window){var c=[];a.each(b.cart.items,function(a){c.push({id:this.id,name:this.title,category:this.category,variant:this.model,list_position:a,quantity:this.quantity,price:this.price})}),setTimeout(function(){gtag("event","add_to_cart",{items:c})},3e3)}}else b.hasOwnProperty("message")&&a.toast({text:b.message,showHideTransition:"fade",position:"top-right",hideAfter:5e3,textAlign:"right",icon:"error"})}}),b.preventDefault(),b.stopPropagation(),!1}),g.on("click",".wz-checkout-step-edit",function(b){b.preventDefault();var c=a(this).parents(".wz-element").first();a(".wz-checkout-step").removeClass("open");var d=a(this).parents(".wz-checkout-step");d.addClass("open");var e=d.find("#wz-cart-login form").get(0);e&&e.reset(),c.autoHeight()}).on("click",".wz-cart-accept-address",function(b){b.preventDefault();var c,d=a("#wz-checkout-address-step .wz-checkout-guest-address-form form"),e=a(this).parents(".wz-element").first();if(d.length){if(!d.validate())return!1;c=d.serialize()}else{var f=a(".shop-cart-container [name=address_id]:checked").val();c={address_id:f}}j.show(),a.ajax({method:"POST",url:site_api_url+"shop/cart/setCartAddress/",dataType:"json",data:c,success:function(b){WebziCart.refreshShippingList(function(){b.hasOwnProperty("result")&&"success"===b.result?(a(".wz-checkout-step").removeClass("open"),a("#wz-checkout-shipping-step").addClass("open"),g.hasClass("wz-production")&&"gtag"in window&&gtag("event","set_checkout_option",{checkout_step:3,checkout_option:"shipping method"}),b.hasOwnProperty("status")&&a(".wz-checkout-steps").attr("wz-step",b.status),b.hasOwnProperty("register")&&"yes"===b.register&&location.reload()):b.hasOwnProperty("message")&&a.toast({text:b.message,showHideTransition:"fade",position:"top-right",hideAfter:5e3,textAlign:"right",icon:"error"}),e.autoHeight(),setTimeout(function(){a("#wz-checkout-shipping-step").focus()},10),j.hide()})}})}).on("click",".wz-cart-accept-shipping",function(b){b.preventDefault();var c=a(this).parents(".wz-element").first(),d=a(".shop-cart-container [name=shipping_id]:checked").val();j.show(),a.ajax({method:"POST",url:site_api_url+"shop/cart/setShipping/",dataType:"json",data:{shipping_id:d},success:function(b){if(b.hasOwnProperty("result")&&"success"===b.result){if(a(".wz-checkout-step").removeClass("open"),a("#wz-checkout-payment-step").addClass("open"),b.hasOwnProperty("cart")){var d=a("template#wz-checkout-summery-template").html().replace(RegExp("&lt;%","g"),"<%").replace(RegExp("%&gt;","g"),"%>"),e=_.template(d);a("#wz-checkout-payment-step .wz-checkout-summery").html(e({cart:b.cart}))}b.hasOwnProperty("payments")&&b.payments.hasOwnProperty("cod")&&("hidden"===b.payments.cod.visible?a('.checkout-payment-item[data-id="cod"]').hide():a('.checkout-payment-item[data-id="cod"]').show()),b.hasOwnProperty("status")&&a(".wz-checkout-steps").attr("wz-step",b.status),g.hasClass("wz-production")&&"gtag"in window&&gtag("event","set_checkout_option",{checkout_step:4,checkout_option:"payment method"})}c.autoHeight(),setTimeout(function(){a("#wz-checkout-payment-step").focus()},10),j.hide()}})}).on("click",".wz-cart-submit-order",function(b){b.preventDefault();var c=a(".shop-cart-container [name=payment_method]:checked").val(),d=a(".wz-payment-note [name=note]"),e=a(this).parents(".wz-element").first(),f="";d.length&&(f=d.val()),j.show(),a.ajax({method:"POST",url:site_api_url+"shop/cart/submitOrder/",dataType:"json",data:{payment_method:c,note:f},success:function(b){if(b.hasOwnProperty("remodal")){var c=a('[data-remodal-id="'+b.remodal+'"]'),d=a.remodal.lookup[c.data("remodal")];d.open()}else if(b.hasOwnProperty("result")&&"success"===b.result)if(b.hasOwnProperty("postData")){var f=a("<form />");f.attr("action",b.url),f.attr("method","post");for(var g in b.postData)f.append('<input type="hidden" name="'+g+'" value="'+b.postData[g]+'" />');a("body").append(f),f.submit()}else window.location.href=b.url;else b.hasOwnProperty("message")&&a.toast({text:b.message,showHideTransition:"fade",position:"top-right",hideAfter:5e3,textAlign:"right",icon:"error"});j.hide(),e.autoHeight()}})}).on("click",".wz-cart-accept-account",function(b){b.preventDefault();var c=a(".shop-cart-container [name=register]:checked").val(),d=a(this).parents(".wz-element").first(),e=a(".wz-cart-address-register #cart-register-email").val(),f=a(".wz-cart-address-register #cart-register-password").val(),h={register:c,email:e,password:f};if(a(".wz-cart-address-register #cart-register-key").length>0&&a(".wz-cart-address-register #cart-register-key").val().toString().length>0){var i=a(".wz-cart-address-register #cart-register-key").val(),k=a(".wz-cart-address-register #cart-register-first-name").val(),l=a(".wz-cart-address-register #cart-register-last-name").val();h.key=i,h.first_name=k,h.last_name=l}var m=!0;if("yes"===c){var n=a(".wz-cart-address-register form");n.validate()||(m=!1)}m&&(j.show(),a.ajax({method:"POST",url:site_api_url+"shop/cart/setAccount/",dataType:"json",data:h,success:function(b){if(b.hasOwnProperty("result")&&"success"===b.result){var e=a("#wz-checkout-steps").hasClass("is-virtual");if("yes"===c)if(b.verify){var f=a(".wz-cart-address-register");f.find("[name=email]").hide(),f.find("input").removeClass("has-error"),a(".verify-complete").show(),d.autoHeight(),j.hide()}else location.reload();else a(".wz-checkout-step").removeClass("open"),e?(a("#wz-checkout-payment-step").addClass("open"),a(".wz-checkout-steps").attr("wz-step","payment")):(a("#wz-checkout-address-step").addClass("open"),b.hasOwnProperty("status")&&a(".wz-checkout-steps").attr("wz-step",b.status)),a(".shop-cart-container .wz-cart-address-register").hide(),d.autoHeight(),j.hide(),g.hasClass("wz-production")&&"gtag"in window&&gtag("event","set_checkout_option",{checkout_step:2,checkout_option:"choose address"})}else b.hasOwnProperty("message")&&a.toast({text:b.message,showHideTransition:"fade",position:"top-right",hideAfter:5e3,textAlign:"right",icon:"error"}),d.autoHeight(),j.hide()}}))}).on("click",".wz-cart-coupon-submit",function(b){b.preventDefault();var c=a(this).parents(".wz-site-form");c.find(".wz-form-coupon-message").removeClass("is-visible");var d=a("#wz-cart-coupon").val();a.ajax({method:"POST",url:site_api_url+"shop/cart/addCoupon/",dataType:"json",data:{coupon:d},success:function(b){if("success"===b.result){var d=b.discountInfo;Number(d.discountValue);if(c.find("input").removeClass("has-error"),b.hasOwnProperty("cart")){WebziCart.refresh(b,!1);var e=a("template#wz-cart-total-price-template");if(e.length){var f=e.html().replace(RegExp("&lt;%","g"),"<%").replace(RegExp("%&gt;","g"),"%>"),h=_.template(f);a(".shop-cart-container .cart-total-price").html(h({cart:b.cart}))}if(g.hasClass("wz-production")&&"gtag"in window){setTimeout(function(){gtag("event","select_content",{promotions:[{id:this.id,name:d.name}]})},1e3)}}c.find(".wz-form-coupon-message").addClass("is-visible").text(d.couponDescription),setTimeout(function(){c.parents(".wz-element").first().autoHeight()},400)}else c.find("input").addClass("has-error"),c.find(".wz-form-error-message").text("کد تخفیف وارد شده معتبر نمی‌باشد.")},error:function(){c.find("input").addClass("has-error"),c.find(".wz-form-error-message").text("کد تخفیف وارد شده معتبر نمی‌باشد.")}})}),g.on("change",".wz-site-form .province",function(b){var c=a(this),d=c.parents("form"),e=d.find(".city");e.html("");var f=d.find("select.section"),g=site_api_url+"shop/region/city?province="+c.val();8!==Number(c.val())&&f.hide(),a.wz_cache.hasOwnProperty(g)?(a.each(a.wz_cache[g],function(b,c){a("<option>").val(c.id).text(c.name).appendTo(e)}),d.find(".dropdown.dropdown-list").wzDropDown()):a.getJSON(g,function(b){a.wz_cache[g]=b.data,a.each(b.data,function(b,c){a("<option>").val(c.id).text(c.name).appendTo(e)})})}).on("change",".wz-site-form .city",function(b){var c=a(this),d=c.parents("form"),e=d.find("select.section");329===Number(c.val())?e.show():e.hide()}),g.on("click",".wz-add-new-address",function(b){b.preventDefault();var c=a('[data-remodal-id="address-edit"]');c.find(".fieldset textarea, .fieldset input").removeClass("has-error");var d=c.find("form").get(0);d.reset();var e=c.find("select.province");e.val(e.attr("data-default-value"));var f=c.find("select.city");f.html("");var g=site_api_url+"shop/region/city?province="+e.attr("data-default-value");if(a.wz_cache.hasOwnProperty(g)){a.each(a.wz_cache[g],function(b,c){a("<option>").val(c.id).text(c.name).appendTo(f)}),f.val(f.attr("data-default-value"));var h=a.remodal.lookup[c.data("remodal")];h.open()}else a.getJSON(g,function(b){a.wz_cache[g]=b.data,a.each(b.data,function(b,c){a("<option>").val(c.id).text(c.name).appendTo(f)}),f.val(f.attr("data-default-value"));var d=a.remodal.lookup[c.data("remodal")];d.open()})}).on("click",".wz-address-edit",function(b){b.preventDefault();var c=a(this),d=c.attr("data-id"),e=site_api_url+"shop/address/get?id="+d;a.get(e,function(b){if(b.hasOwnProperty("data")){var c=b.data,d=a('[data-remodal-id="address-edit"]'),e=d.find(".fieldset textarea, .fieldset input");e.removeClass("has-error");var f=d.find("form").get(0);f.reset();var g=d.find("select.province");g.val(c.province);var h=d.find("select.city");h.html("");var i=d.find("select.section"),j=site_api_url+"shop/region/city?province="+c.province;if(e.each(function(){var b=a(this);c.hasOwnProperty(b.attr("name"))&&b.val(c[b.attr("name")])}),a.wz_cache.hasOwnProperty(j)){a.each(a.wz_cache[j],function(b,c){a("<option>").val(c.id).text(c.name).appendTo(h)}),h.val(c.city);var k=a.remodal.lookup[d.data("remodal")];k.open()}else a.getJSON(j,function(b){a.wz_cache[j]=b.data,a.each(b.data,function(b,c){a("<option>").val(c.id).text(c.name).appendTo(h)}),h.val(c.city);var e=a.remodal.lookup[d.data("remodal")];e.open()});329===Number(c.city)?(i.show(),c.hasOwnProperty("section")&&i.val(c.section)):i.hide()}})}).on("click",".wz-address-delete",function(b){b.preventDefault();var c=a(this),d=c.attr("data-id"),e=a(this).parents(".wz-element").first();j.show();var f=site_api_url+"shop/address/delete?id="+d;a.get(f,function(a){if(a.hasOwnProperty("status")&&"success"===a.status){var b=c.parents(".checkout-address");b.find("[name=address_id]:checked").length&&b.parent().children().not(b).first().find("[name=address_id]").prop("checked",!0),b.remove()}e.autoHeight(),j.hide()})}).on("click",".wz-address-confirm",function(b){b.preventDefault();var c=a(this),d=c.parents(".remodal"),e=a.remodal.lookup[d.data("remodal")],f=a('[data-widget="wz-shop-cart"]');j.show();var g=site_api_url+"shop/address/save",h=a(".wz-checkout-address-form form");h.validate()?a.post(g,h.serialize(),function(b){if(b.hasOwnProperty("id")&&"success"===b.status){var c={},d=a("template#checkout-address-template").html().replace(RegExp("&lt;%","g"),"<%").replace(RegExp("%&gt;","g"),"%>"),g=_.template(d);h.serializeArray().forEach(function(a){"province"===a.name||"city"===a.name?c[a.name]=h.find("select[name="+a.name+"] option[value="+a.value+"]").text():c[a.name]=a.value}),c.hasOwnProperty("id")&&c.id?a(".checkout-address[data-id="+c.id+"]").replaceWith(g({address:c})):(c.id=b.id,a(".checkout-address-list").prepend(g({address:c}))),a(".wz-add-new-address").removeClass("first-address")}e.close(),f.autoHeight(),j.hide()}):j.hide()}).on("click",".wz-address-cancel",function(b){b.preventDefault();var c=a(this),d=c.parents(".remodal"),e=a.remodal.lookup[d.data("remodal")];e.close()}),a.renderProductFilter(),a(".dropdown.dropdown-list").wzDropDown(),a(".wz-shop-product-page").renderProductOption(),a(".wz-shop-price-slider").each(function(){var b=a(this),c=a(this).find("label"),d=a(this).attr("data-min-price")||0,e=a(this).attr("data-max-price")||1e5,f=b.find("input");f.ionRangeSlider({type:"double",min:d,max:e,from:d,to:e,step:(e-d)/20,prettify_separator:",",hide_min_max:!0,hide_from_to:!0,onChange:function(b){c.text(a.wzGetFilterPrice(b.from,b.to))},onStart:function(b){c.text(a.wzGetFilterPrice(b.from,b.to))},onFinish:function(b){g.hasClass("wz-production")&&(a(".wz-shop-price-slider").data("price",b),a.wzUpdateShopList())}})}),a("[wz-background-scroll=parallax]").wzParallax(),a("[wz-section-freeze=on]").not(".wzc-section-footer-full").wzSticky(),a.fn.fancybox&&a(".fancybox").each(function(){var b=a(this);!b.attr("data-fancybox")&&b.attr("rel")&&b.attr("data-fancybox",b.attr("rel"))}).fancybox({hash:!1});var n=null;i.width();i.on("resize",function(b){var c=function(){var b=a("body > .wz-element .wz-menu-toggle");if(b.hasClass("open")){a("#wz-menu-extend").remove();var c=a(".wz-element .wz-menu-toggle");b.parents(".wz-element").remove(),c.removeClass("animation-off").parents(".wz-element").show()}l!==getDevice()};if(l!==getDevice()){a.changTextFontsSize(),setTimeout(function(){a("[wz-autoHeight]").autoHeight()},500),l=getDevice(),a(".changed-height-production").removeAttr("style").removeClass("changed-height-production"),a(".wz-gallery-grid, .wz-gallery-masonry").webziGalleryRender();var d=document.getElementById("wz-viewport");screen.width<1170&&screen.width>768?d.setAttribute("content","width=767, maximum-scale=1, user-scalable=0"):screen.width<768&&d.setAttribute("content","width=468, maximum-scale=1, user-scalable=0")}(a.isWindow(b.target)||l!==getDevice())&&(clearTimeout(n),n=setTimeout(c,500))}),g.on("click","a",function(b){var c=a(this),d=c.attr("href"),e=a("html, body");g.hasClass("wz-production")&&"gtag"in window&&(c.filter("[data-widget=wz-button], [data-widget=wz-image], [data-widget=wz-shape], [data-widget=wz-box]").length>0?c.filter("[data-widget=wz-button]").length>0?gtag("event","click",{event_category:"button",event_label:c.text()}):gtag("event","click",{event_category:"button",event_label:c.attr("id")}):c.filter("[href$=checkout]").length>0?gtag("event","set_checkout_option",{checkout_step:1}):c.parents(".wz-menu").length>0&&gtag("event","click",{event_category:"menu",event_label:c.text()}));var f=/\#.*$/.exec(d);if(f){d=encodeURI(d),d=d.replace(/(\/)?\#.*$/,"").replace(/\/\//g,"/").replace(/^\/|\/$/g,"");var i=window.location.protocol+"//"+window.location.host+"/"+window.location.pathname+window.location.search;i=i.replace(/\/\//g,"/").replace(/^\/|\/$/g,"");var j=f.toString().replace("#","")||"none";if(d&&d===i&&d.toString().length>3){var k=a("#"+j).offset().top,l=0;return a('[wz-section-freeze="on"]').each(function(){var b=a(this);b.offset().top<k&&(l+=b.height())}),e.animate({scrollTop:k-l},"slow"),b.preventDefault(),!1}}else"go:top"===d?(e.animate({scrollTop:0},"slow"),b.preventDefault()):"go:bottom"===d&&(e.animate({scrollTop:h.height()},"slow"),b.preventDefault())}),a(".wz-gallery-grid, .wz-gallery-masonry").webziGalleryRender()}g.hasClass("theme-editing")||g.on("mouseenter",'[data-widget="wz-menu"]',function(){var b=a(this);"desktop"!==getDevice()||b.hasClass("wz-menu-clone")||b.parents(".wz-section-full").addClass("wz-section-menu-hover")}).on("mouseleave",'[data-widget="wz-menu"]',function(){a(".wz-section-full").removeClass("wz-section-menu-hover")}),g.on("blur","[wz-validate]",function(b){var c,d=a(this),e=d.attr("wz-validate").toString().split(","),f=null;c=d.hasClass("wz-form-radioButton")?d.find("input:checked").val()||"":d.val();var g=d.parents(".wz-element").filter("[data-widget=wz-inputText], [data-widget=wz-checkbox],[data-widget=wz-dropdown], [data-widget=wz-radioButton], [data-widget=wz-textarea], [data-widget=wz-uploadField]").not('[data-widget="wz-button"]');if(d.removeClass("has-error"),g.removeClass("input-invalid").children(".wz-template").removeClass("invalid"),Array.isArray(e)&&e.forEach(function(a){if(a=a.trim(),"required"===a){if("checkbox"===d.attr("type")){if(!d.is(":checked"))return f=a,!1}else if(WebziValidate.isEmpty(c))return f=a,!1}else if(!WebziValidate.isEmpty(c))switch(a){case"minLength":if(c.toString().length<Number(d.attr("wz-min-length")))return f=a,!1;break;case"mail":case"email":if(!WebziValidate.checkMail(c))return f=a,!1;break;case"mailOrMobile":var b=WebziValidate.checkMail(c)||WebziValidate.checkMobile(Number(c.toString().convertToLatinNumber()));if(!b)return f=a,!1;break;case"mobile":if(c=c.toString().convertToLatinNumber(),!WebziValidate.checkMobile(c))return f=a,!1;break;case"phone":if(c=c.toString().convertToLatinNumber(),!WebziValidate.checkPhone(c))return f=a,!1;break;case"nationalCode":if(c=c.toString().convertToLatinNumber(),!WebziValidate.checkNationalCode(c))return f=a,!1;break;case"postCode":if(c=c.toString().convertToLatinNumber(),!WebziValidate.checkPostCode(c))return f=a,!1}}),f){var h=d.attr("wz-validate-"+f)||d.attr("wz-validate-message");d.addClass("has-error").siblings(".wz-form-error-message, .wz-form-inputText-message").text(h),g.addClass("input-invalid").children(".wz-template").addClass("invalid")}}).on("click",function(b){var c=a(b.target);if(c.closest("[data-wz-toggle] .dropdown-select").length){var d=c.parents('[wz-autoheight], [data-widget="wz-code"]').filter(function(){return a(this).parent().is(":not(.wz-shop-recent-filter-container)")}).first();if("wz-code"===d.attr("data-widget")&&d.attr("wz-autoheight","wz-autoheight"),d.length){var e=d.height(),f=c.parents(".dropdown");f.toggleClass("open"),a(".dropdown-list").not(f).removeClass("open"),c.closest(".dropdown-accordion, .dropdown-tab")&&f.siblings().removeClass("open"),d.css("height","auto");var g=d.height();d.css("height",e),d.cascadeHeight(g-e)}}else a(".dropdown:not(.dropdown-accordion):not(.dropdown-tab)").removeClass("open");c.closest("[data-widget=wz-member]").length||a("[data-widget=wz-member]").removeClass("wz-open-dropdown")}).on("click",".dropdown-list .dropdown-menu > a",function(){var b=a(this),c=b.parents(".dropdown-list"),d=c.find("select");b.addClass("selected").siblings().removeClass("selected"),c.children(".dropdown-select").text(b.text()),d.length&&d.val(b.attr("data-id")).trigger("change")}).on("click",".wz-menu-toggle",function(){var b=a(this);if(g.hasClass("theme-editing"))return!1;if(b.parents("#wz-bar-item-hiddenElements").length)return!0;if(b.hasClass("open")||b.hasClass("wz-menu-is-open")){var c=a("#wz-menu-extend"),d=a("#wz-root").find(".wz-menu-toggle");b.removeClass("open").removeClass("wz-menu-is-open"),c.removeClass("open"),c.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){c.remove(),setTimeout(function(){},200)})}else{var e=b.parents(".wz-element").first(),f=e.find(".wz-menu"),h=f.hasClass("wz-menu-rtl");f=f.clone().show().removeClass(),b.addClass("wz-menu-is-open");var d=a(".wz-menu-toggle").clone().addClass("open");f.find(".wz-menu-has-children").each(function(){a("<span>").addClass("wz-menu-item-expand").prependTo(a(this))});var i=a("<div>").attr("id","wz-menu-extend").appendTo(g);h&&i.addClass("is-rtl"),i.append(f),i.prepend(d),setTimeout(function(){i.addClass("open")},100),setTimeout(function(){},400)}}).on("click","#wz-menu-extend li.wz-menu-has-children > .wz-menu-item-expand, #wz-menu-extend li.wz-menu-has-children > a",function(b){b.preventDefault(),a(this).parents("li.wz-menu-has-children").first().toggleClass("open")}).on("click",".wz-shop-product-compare input",function(){var b=a(this);b.parents(".wz-shop-product-compare").toggleClass("selected");var c=a(".wz-shop-product-compare.selected").length;if(b.is(":checked"))k.push(b.val());else{var d=k.indexOf(b.val());d>-1&&k.splice(d,1)}var e=a("#wz-shop-compare-list");c>0?(e.find(".number").html(c.toString().convertToLocalNumber()),e.attr("href",site_url+"shop/compare/"+k.join("/")),e.show()):e.hide()}).on("click","[data-widget=wz-gallery] .more-image",function(b){if(b.preventDefault(),g.hasClass("theme-editing"))return!1;var c=a(this),d=c.parents(".wz-element").first(),e=d.attr("data-columns")||1,f=d.attr("data-rows")||1,h=f*e;g.hasClass("wz-production")&&(e=d.attrDevice("data-columns")||1,f=d.attrDevice("data-rows")||1,h=d.attrDevice("data-grid-size")||9);var i=d.find(".hide");i.length<=h&&(c.hide(),c.removeClass("show")),i=i.slice(0,h),i.removeClass("hide");var j=i.outerHeight();j*=Math.min(f,Math.ceil(i.length/e)),d.cascadeHeight(j)}).on("click","[data-widget=wz-contact] button, .wz-blog-comment-from form button",function(b){var c=a(this).parents(".wz-element").first(),d=c.attr("id"),e=c.find("form"),f=e.find(".form-result"),h=e.find("[type=email]").val(),i=!0;if(b.preventDefault(),f.removeClass("form-result-show").removeClass("form-result-error"),e.find("input.input-required, textara.input-required").each(function(){var b=a(this);return WebziValidate.isEmpty(b.val())?(f.addClass("form-result-show form-result-error"),f.text(WidgetSetting.getWidgetSetting(d,"requiredInputMessage")),i=!1,!1):void 0}),!i||WebziValidate.isEmpty(h)||WebziValidate.checkMail(h)||(f.addClass("form-result-show form-result-error"),f.text(WidgetSetting.getWidgetSetting(d,"invalidMailMessage")),i=!1),i){var j=void 0;j=e.attr("action")?e.attr("action"):WidgetSetting.getWidgetSetting(d,"submitUrl"),j?a.ajax({method:"POST",url:j,dataType:"json",data:e.serialize(),success:function(a){a.hasOwnProperty("result")&&"success"===a.result?(f.addClass("form-result-show"),a.message?f.text(a.message):(f.text(WidgetSetting.getWidgetSetting(d,"successMessage")),g.hasClass("wz-production")&&"gtag"in window&&gtag("event","submit",{event_category:"contact_us",event_label:d})),e.find("input, textarea").val("")):(f.addClass("form-result-show form-result-error"),a.hasOwnProperty("messages")?f.text(a.messages[Object.keys(a.messages)[0]]):f.text(WidgetSetting.getWidgetSetting(d,"failedMessage")))},error:function(){f.addClass("form-result-show form-result-error"),f.text(WidgetSetting.getWidgetSetting(d,"failedMessage"))}}):(f.addClass("form-result-show"),f.text(WidgetSetting.getWidgetSetting(d,"successMessage")))}}).on("click","[data-widget=wz-form]  [data-widget=wz-button]",function(b){if(b.preventDefault(),!g.hasClass("wz-production"))return!0;var c=a(this).parents("[data-widget=wz-form]"),d=c.attr("id"),e=c.find("form"),f=e[0],h=c.find(".form-result"),i=e.validate(),k=!1;if(FormData&&(k=new FormData(f)),h.removeClass("form-result-show").removeClass("form-result-error"),!i)return!1;var l=(e.serialize(),void 0);l=e.attr("action")?e.attr("action"):WidgetSetting.getWidgetSetting(d,"submitUrl"),l?(j.show(),a.ajax({method:"POST",url:l,dataType:"json",data:k?k:e.serialize(),processData:!1,contentType:!1,success:function(b){if(h.length>0&&h.addClass("form-result-show"),b.hasOwnProperty("result")&&"success"===b.result)b.hasOwnProperty("redirect")?location.replace(b.redirect):b.message&&(h.length>0?h.removeClass("form-result-error").text(b.message):a.toast({text:b.message,showHideTransition:"fade",
position:"top-right",hideAfter:5e3,textAlign:"right",icon:"success"}),g.hasClass("wz-production")&&"gtag"in window&&gtag("event","submit",{event_category:"form",event_label:b.formName||d}));else if(b.message||b.hasOwnProperty("messages")){var c=b.messages[Object.keys(b.messages)[0]]||b.message;h.length>0?h.addclass("form-result-error").text(c):a.toast({text:c,showHideTransition:"fade",position:"top-right",hideAfter:5e3,textAlign:"right",icon:"error"})}j.hide()},error:function(){h.addClass("form-result-show form-result-error"),h.text(WidgetSetting.getWidgetSetting(d,"failedMessage")),j.hide()}})):(h.addClass("form-result-show"),h.text(WidgetSetting.getWidgetSetting(d,"successMessage")))}).on("click",".wz-blog-comment-reply  a",function(b){b.preventDefault(),b.stopPropagation();var c=a(".wz-blog-comment-from"),d=c.parents('[data-widget="wz-blog-comment"]'),e=c.find(".wz-blog-comment-reply-comment");e.length&&e.remove();var f=a("<div>").addClass("wz-blog-comment-reply-comment").prependTo(c.find(".wz-form-section").first()),g=a(this);a("<div>").text("ارسال پاسخ برای نظر "+g.attr("data-name")+". ").append(a('<a class="wz-blog-comment-reply-cancel" hre="">انصراف</a>')).appendTo(f),a("<input>").attr("type","hidden").attr("name","parent").val(g.attr("data-id")).appendTo(f),e.length||d.cascadeHeight(f.outerHeight()),a("html, body").animate({scrollTop:c.offset().top},250)}).on("click",".wz-blog-comment-reply-cancel",function(b){b.preventDefault(),b.stopPropagation();var c=a(".wz-blog-comment-from"),d=c.find(".wz-blog-comment-reply-comment");if(d.length){var e=d.outerHeight(),f=c.parents('[data-widget="wz-blog-comment"]');d.remove(),f.cascadeHeight(-e)}}).on("click",".submit-input-change input[type=radio]",function(b){var c=a(this),d=c.parents("form");a.ajax({method:"POST",url:d.attr("action"),dataType:"json",data:d.serialize(),success:function(b){b.message&&a.toast({text:b.message,showHideTransition:"fade",position:"top-right",hideAfter:5e3,textAlign:"right",icon:b.result||"success"})}})}).on("click",".wz-tabs-container .wz-tabs li",function(){var b=a(this),c=b.attr("for"),d=b.parents(".wz-tabs-container"),e=b.parents(".wz-element").first();b.addClass("open").siblings().removeClass("open"),d.find(".wz-tab-content").removeClass("open"),d.find("#"+c).addClass("open");var f=e.height();e.css("height","auto");var g=e.height();e.css("height",f),e.cascadeHeight(g-f)}).on("mouseover",".wz-shop-sort-option-checkbox .regular-checkbox-color",function(){var b=a(this);b.parents(".wz-shop-filter-item").find(".wz-shop-filter-color-result").text(" : "+b.attr("data-title"))}).on("mouseleave",".wz-shop-sort-option-checkbox .regular-checkbox-color",function(){var b=a(this);b.parents(".wz-shop-filter-item").find(".wz-shop-filter-color-result").text("")}).on("click",".wz-shop-product-colors .regular-checkbox-color",function(){var b=a(this);b.parents(".wz-shop-product-colors").find(".wz-shop-product-color-result").text(" : "+b.attr("data-title"))}).on("mouseover",".wz-element[data-animation][data-animation-type=hover]",function(){if(g.hasClass("theme-editing"))return!1;var b=a(this),c=b.attr("data-animation"),d=b.attr("data-animation-duration")||.5,e=b.attr("data-animation-delay")||0;b.attr("data-animated")||(b.css("animationDelay",e+"s"),b.css("animationDuration",d+"s"),b.addClass("animated"),b.attr("data-animated","true"),b.addClass(c).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a(this).removeClass(c),b.css("animationDelay",""),b.css("animationDuration","")}))}).on("mouseleave",".wz-element[data-animation][data-animation-type=hover]",function(){a(this).removeAttr("data-animated")}),i.on("resize",function(){calculateFullWidthElement()}),g.on("click","#wz-member-logout",function(b){b.preventDefault(),j.show();var c=a('[data-widget="wz-member"]');c.removeClass("wz-open-dropdown"),setTimeout(function(){c.removeClass("wz-element-top-index")},400),a.ajax({method:"GET",url:site_api_url+"customer/member/logout/",dataType:"json",success:function(a){location.reload()}})}).on("click","#wz-member-orders",function(b){b.preventDefault();var c=a('[data-widget="wz-member"]');c.removeClass("wz-open-dropdown"),setTimeout(function(){c.removeClass("wz-element-top-index")},400),j.show();var d=a('[data-remodal-id="wz-member-order-list"]'),e=a("template#wz-member-order-list-template").html().replace(RegExp("&lt;%","g"),"<%").replace(RegExp("%&gt;","g"),"%>"),f=_.template(e);a.ajax({method:"GET",url:site_api_url+"shop/cart/getOrders/",dataType:"json",success:function(b){var c=b.hasOwnProperty("orders")?b.orders:[];a("#wz-member-order-items").html(f({orders:c})),setTimeout(function(){j.hide();var b=a.remodal.lookup[d.data("remodal")];b.open()},100)}})}).on("click",".wz-member-order-item-details",function(b){b.preventDefault();var c=a(this).attr("data-id");j.show();var d=a('[data-remodal-id="wz-member-order-item"]'),e=a("template#wz-member-order-item-details-template").html().replace(RegExp("&lt;%","g"),"<%").replace(RegExp("%&gt;","g"),"%>"),f=_.template(e);a.ajax({method:"GET",url:site_api_url+"shop/cart/getOrder?id="+c,dataType:"json",success:function(b){var c=b.hasOwnProperty("order")?b.order:{},e=b.hasOwnProperty("products")?b.products:[];a("#wz-member-order-item-details").html(f({order:c,products:e})),setTimeout(function(){j.hide();var b=a.remodal.lookup[d.data("remodal")];b.open()},100)}})}).on("click","#wz-member-password",function(b){b.preventDefault();var c=a('[data-widget="wz-member"]');c.removeClass("wz-open-dropdown"),setTimeout(function(){c.removeClass("wz-element-top-index")},400);var d=a('[data-remodal-id="wz-member-password-edit"]');d.find(".fieldset textarea, .fieldset input").removeClass("has-error");var e=d.find("form").get(0);e.reset();var f=a.remodal.lookup[d.data("remodal")];f.open()}).on("click","#wz-member-profile",function(b){b.preventDefault();var c=a('[data-widget="wz-member"]');c.removeClass("wz-open-dropdown"),setTimeout(function(){c.removeClass("wz-element-top-index")},400);var d=a('[data-remodal-id="wz-member-profile-edit"]');d.find(".fieldset textarea, .fieldset input").removeClass("has-error");var e=d.find("form"),f=e.get(0);f.reset(),a.ajax({method:"GET",url:site_api_url+"customer/member/profile/",dataType:"json",success:function(b){var c=a.remodal.lookup[d.data("remodal")];c.open(),b.hasOwnProperty("data")&&a.each(b.data,function(a,b){e.find("[name="+a+"]").val(b)})}})}).on("click","#wz-member-profile-save",function(b){b.preventDefault();var c=a('[data-remodal-id="wz-member-profile-edit"]'),d=c.find("form");d.validate()&&(j.show(),a.ajax({method:"POST",data:d.serialize(),url:site_api_url+"customer/member/profile/",dataType:"json",success:function(b){if(j.hide(),b.hasOwnProperty("messages")&&a.each(b.messages,function(a,b){d.find("[name='"+a+"']").addClass("has-error").siblings("span.wz-form-error-message").text(b)}),b.hasOwnProperty("result")&&"success"===b.result){var e=a.remodal.lookup[c.data("remodal")];e.close()}},error:function(){j.hide()}}))}).on("click","#wz-company-profile-edit",function(b){b.preventDefault();var c=a('[data-widget="wz-member"]');c.removeClass("wz-open-dropdown"),setTimeout(function(){c.removeClass("wz-element-top-index")},400);var d=a('[data-remodal-id="wz-company-profile-edit"]');d.find(".fieldset textarea, .fieldset input").removeClass("has-error");var e=d.find("form"),f=e.get(0);f.reset(),a.ajax({method:"GET",url:site_api_url+"customer/member/company_profile/",dataType:"json",success:function(b){var c=a.remodal.lookup[d.data("remodal")];c.open(),b.hasOwnProperty("data")&&a.each(b.data,function(a,b){e.find("[name="+a+"]").val(b)})}})}).on("click","#wz-company-profile-save",function(b){b.preventDefault();var c=a('[data-remodal-id="wz-company-profile-edit"]'),d=c.find("form");d.validate()&&(j.show(),a.ajax({method:"POST",data:d.serialize(),url:site_api_url+"customer/member/company-profile/",dataType:"json",success:function(b){if(j.hide(),b.hasOwnProperty("messages")&&a.each(b.messages,function(a,b){d.find("[name='"+a+"']").addClass("has-error").siblings("span.wz-form-error-message").text(b)}),b.hasOwnProperty("result")&&"success"===b.result){var e=a.remodal.lookup[c.data("remodal")];e.close()}},error:function(){j.hide()}}))}).on("click","#wz-shop-add-comment",function(b){b.preventDefault();var c=a('[data-remodal-id="wz-shop-comment-from-open"]'),d=c.find("form");d.find(".has-error").removeClass("has-error"),d.validate()&&(j.show(),a.ajax({method:"POST",data:d.serialize(),url:d.attr("action"),dataType:"json",success:function(b){if(j.hide(),b.hasOwnProperty("messages")&&a.each(b.messages,function(a,b){d.find("[name='"+a+"']").addClass("has-error").siblings("span.wz-form-error-message").text(b)}),b.hasOwnProperty("result")&&"success"===b.result){var e=a.remodal.lookup[c.data("remodal")];e.close(),a.toast({text:b.message,showHideTransition:"fade",position:"top-right",hideAfter:5e3,textAlign:"right",icon:"success"})}},error:function(){j.hide()}}))}).on("click","#wz-member-password-reset",function(b){b.preventDefault();var c=a('[data-remodal-id="wz-member-password-reset"]'),d=c.find("form"),e=a.getUrlQueries();if(d.validate()&&e.hasOwnProperty("key")){j.show();var f=site_api_url+"customer/member/change_password?key="+e.key;e.hasOwnProperty("user")&&(f+="&user="+e.user),a.ajax({method:"POST",data:d.serialize(),url:f,dataType:"json",success:function(b){b.hasOwnProperty("messages")&&(j.hide(),a.each(b.messages,function(a,b){d.find("[name='"+a+"']").addClass("has-error").siblings("span.wz-form-error-message").text(b)})),b.hasOwnProperty("result")&&"success"===b.result&&(window.location.href=site_url)},error:function(){j.hide()}})}}).on("click","#wz-member-password-save",function(b){b.preventDefault();var c=a('[data-remodal-id="wz-member-password-edit"]'),d=c.find("form");d.validate()&&(j.show(),a.ajax({method:"POST",data:d.serialize(),url:site_api_url+"customer/member/change_password/",dataType:"json",success:function(b){if(j.hide(),b.hasOwnProperty("messages")&&a.each(b.messages,function(a,b){d.find("[name='"+a+"']").addClass("has-error").siblings("span.wz-form-error-message").text(b)}),b.hasOwnProperty("result")&&"success"===b.result){var e=a.remodal.lookup[c.data("remodal")];e.close()}},error:function(){j.hide()}}))}).on("click","#wz-shop-comment-from-open, .wz-shop-comment-reply",function(b){b.preventDefault();var c=a(this).attr("data-reply"),d=a('[data-remodal-id="wz-shop-comment-from-open"]');d.find(".fieldset textarea, .fieldset input").removeClass("has-error"),d.find("[name=parent]").val(c);var e=d.find("form").get(0);e.reset();var f=a.remodal.lookup[d.data("remodal")];f.open()}),g.on("click",'[data-widget="wz-member"]',function(b){var c=a(this);return c.find(".wz-member-welcome").length&&(c.addClass("wz-element-top-index wz-open-dropdown"),c.parents(".wz-element").addClass("wz-element-top-index")),b.preventDefault(),!1});var o=a(".wz-user-modal, .wz-user-inline-form"),p=o.find("#wz-login").add(a("#wz-cart-login")),q=o.find("#wz-register"),r=o.find("#wz-verify-register"),s=o.find("#wz-reset-password"),t=o.find("#wz-reset-password-code"),u=a(".wz-user-modal-switcher"),v=u.children("li").eq(0).children("a"),w=u.children("li").eq(1).children("a"),x=p.find(".wz-user-modal-bottom-message a"),y=s.find(".wz-user-modal-bottom-message a");g.on("click",".wz-login",c),g.on("click",".wz-register",d),o.on("click",function(b){a(b.target).is(o)&&o.removeClass("is-visible")}),h.keyup(function(a){27===a.which&&o.removeClass("is-visible")}),u.on("click",function(b){a(b.target).is(v)?c(b):d(b)}),x.on("click",function(a){e(a)}),y.on("click",function(a){c(a)}),p.find('input[type="submit"], .wz-login-submit').on("click",function(b){var c=a(this).parents("form"),d=c.validate(),e=c.attr("data-ajax")||"true";d?"true"===e?(b.preventDefault(),j.show(),a.ajax({method:"POST",url:site_api_url+"customer/member/login/",dataType:"json",data:c.serialize(),success:function(b){b.hasOwnProperty("result")&&"success"===b.result?(g.hasClass("wz-production")&&"gtag"in window&&gtag("event","login",{method:"Site",user:c.find("#login-email").val()}),location.reload()):b.hasOwnProperty("messages")&&"object"==typeof b.messages&&(a.each(b.messages,function(a,b){c.find("[name='"+a+"']").addClass("has-error").siblings("span.wz-form-error-message").text(b)}),j.hide())}})):c.submit():b.preventDefault()}),a("#wz-register, #wz-verify-register").find('input[type="submit"]').on("click",function(b){var c=a(this).parents("form"),d=c.validate();b.preventDefault(),d&&(j.show(),a.ajax({method:"POST",url:site_api_url+"customer/member/register/",dataType:"json",data:c.serialize(),success:function(b){if(b.hasOwnProperty("result")&&"success"===b.result)if(g.hasClass("wz-production")&&"gtag"in window&&gtag("event","sign_up",{method:"Site",user:c.find("#register-email").val()}),b.verify)q.removeClass("is-selected"),r.addClass("is-selected"),r.find("[name=email]").val(c.find("[name=email]").val());else if(b.hasOwnProperty("message")){j.hide();var d=a(".wz-user-modal, .wz-user-inline-form");d.removeClass("is-visible"),a.toast({text:b.message,showHideTransition:"fade",position:"top-right",hideAfter:9e3,textAlign:"right",icon:"success"})}else b.hasOwnProperty("redirect")?location.replace(b.redirect):location.reload();else b.hasOwnProperty("messages")&&"object"==typeof b.messages&&a.each(b.messages,function(a,b){c.find("[name='"+a+"']").addClass("has-error").siblings("span.wz-form-error-message").text(b)});j.hide()}}))}),s.find('input[type="submit"]').on("click",function(b){b.preventDefault();var c=a(this).parents("form"),d=c.validate();d&&(j.show(),a.ajax({method:"POST",url:site_api_url+"customer/member/reset_password/",dataType:"json",data:c.serialize(),success:function(d){d.hasOwnProperty("result")&&"success"===d.result?d.hasOwnProperty("mobile")&&"true"===d.mobile?f(b,c.find("[name=email]").val()):(o.removeClass("is-visible"),a.toast({text:d.message,showHideTransition:"fade",position:"top-right",hideAfter:9e3,textAlign:"right",icon:"success"})):d.hasOwnProperty("messages")&&"object"==typeof d.messages&&a.each(d.messages,function(a,b){c.find("[name='"+a+"']").addClass("has-error").siblings("span.wz-form-error-message").text(b)}),j.hide()}}))}),t.find('input[type="submit"]').on("click",function(b){b.preventDefault();var c=a(this).parents("form"),d=c.validate();d&&(window.location.href=site_url+"?"+c.serialize()+"#wz-member-password-reset")})}),$(window).on("load",function(){setTimeout(function(){document.hasOwnProperty("fonts")?document.fonts.ready.then(function(){$("[wz-autoHeight]").autoHeight()}):setTimeout(function(){$("[wz-autoHeight]").autoHeight()},50)},90*$(".flexslider ").length)});